@using Fita_de_Preco.Models
@if (Request.IsAuthenticated)
{
    string[] email = HttpContext.Current.User.Identity.Name.Split('@');

    UserManager user = new UserManager();

    <ul class="nav navbar-nav">
        @if (user.IsUserInRole(HttpContext.Current.User.Identity.Name, "Admin"))
        {
            <li>@Html.ActionLink("Correção de Arquivos", "Index", "Home", routeValues: null, htmlAttributes: new { title = "Correção de Arquivos" })</li>
            <li>@Html.ActionLink("Arquivos para Download", "Index", "Download", routeValues: null, htmlAttributes: new { title = "Arquivos para Download" })</li>
            <li>@Html.ActionLink("Monitor", "Index", "Monitor", routeValues: null, htmlAttributes: new { title = "Monitor" })</li>
            <li>@Html.ActionLink("XML", "Index", "XML", routeValues: null, htmlAttributes: new { title = "XML" })</li>
            <li>@Html.ActionLink("Util", "Index", "ComandosUteis", routeValues: null, htmlAttributes: new { title = "Util" })</li>
            
            <li>@Html.ActionLink("Administração", "Index", "Admin", routeValues: null, htmlAttributes: new { title = "Administração" })</li>
        }

        @if (user.IsUserInRole(HttpContext.Current.User.Identity.Name, "Dti"))
        {
            <li>@Html.ActionLink("Correção de Arquivos", "Index", "Home", routeValues: null, htmlAttributes: new { title = "Correção de Arquivos" })</li>
            <li>@Html.ActionLink("Arquivos para Download", "Index", "Download", routeValues: null, htmlAttributes: new { title = "Arquivos para Download" })</li>
            <li>@Html.ActionLink("Monitor", "Index", "Monitor", routeValues: null, htmlAttributes: new { title = "Monitor" })</li>
            <li>@Html.ActionLink("XML", "Index", "XML", routeValues: null, htmlAttributes: new { title = "XML" })</li>
            <li>@Html.ActionLink("Util", "Index", "ComandosUteis", routeValues: null, htmlAttributes: new { title = "Util" })</li>
        }

        @if (user.IsUserInRole(HttpContext.Current.User.Identity.Name, "Finan"))
        {
            <li>@Html.ActionLink("Cardiesel", "Cardiesel", "ComandosUteis", routeValues: null, htmlAttributes: new { title = "Correção de Arquivos" })</li>
        }
    </ul>


    using (Html.BeginForm("LogOff", "Login", FormMethod.Post, new { id = "logoutForm", @class = "navbar-right" }))
    {
        @Html.AntiForgeryToken()

        <ul class="nav navbar-nav navbar-right">
            <li>
                @Html.ActionLink("Bem Vindo " + email[0] + "!", "Index", "Monitor", routeValues: null, htmlAttributes: new { title = "Manage" })
            </li>
            <li><a href="javascript:document.getElementById('logoutForm').submit()">Sair</a></li>
        </ul>
    }
}
else
{
    <ul class="nav navbar-nav navbar-right">
        <li>@Html.ActionLink("Acessar", "Login", "Login", routeValues: null, htmlAttributes: new { id = "loginLink" })</li>
    </ul>
}

